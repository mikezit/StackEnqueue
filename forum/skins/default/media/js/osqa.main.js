window.StackPointer={};StackPointer.question=function(){init=function(){bindSuggestedEditPopupLinks();$("div#editor_side_bar").hide();$("#editor").focus(function(){$("div#editor_side_bar").fadeIn("slow")});$("#editor").blur(function(){$("div#editor_side_bar").fadeOut("slow")})};bindSuggestedEditPopupLinks=function(){$("div.post-controls a[id^='edit-pending-']").each(function(){var a=$(this);a.unbind("click").click(function(){StackPointer.suggestedEdits.loadPopup($(this));return !1})})};return{init:init}}();StackPointer.helpers=function(){var b=function(){d();a(".seContainer",{position:"relative",left:"10px",top:"10px"})};var a=function(h,g){$(h).append(f(g))};var f=function(h){var g=$('<img class="ajax-loader" src="/m/default/media/images/progress-dots.gif" title="loading..." alt="loading..." />');if(h){g.css(h)}return g};var d=function(){$("img.ajax-loader").remove()};var c=function(h,g,m,k){$(".error-notification").remove();var i=$('<div class="error-notification"><h2>'+g+"</h2>"+(m?"":'<span class="error-close">(我知道了！)</span>')+"</div>"),l=function(){i.fadeOutAndRemove();k&&k()};$(h).append(i);i.click(l).fadeIn("fast");setTimeout(l,m?Math.max(2500,40*g.length):30000)};var e=function(){$(".error-notification").fadeOutAndRemove()};DelayedReaction=function(m,r,n){n=n||{};var s,g,o=n.always;var p=function(){s=null;m.apply(null,g)};return{trigger:function(){g=arguments;if(o){o.apply(null,g)}if(s){if(n.sliding){clearTimeout(s);s=setTimeout(p,r)}else{return}}else{s=setTimeout(p,r)}},cancel:function(){if(s){clearTimeout(s);s=null}}}};return{DelayedReaction:DelayedReaction,addSpinner:a,showSpinner:b,removeSpinner:d,showErrorPopup:c,removeErrorPopup:e}}();var response_commands={refresh_page:function(){window.location.reload(true)},update_post_score:function(d,b){var c=$("#post-"+d+"-score");var a=parseInt(c.html());if(isNaN(a)){a=0}c.html(a+b)},update_user_post_vote:function(d,b){var a=$("#post-"+d+"-upvote");var c=$("#post-"+d+"-downvote");a.removeClass("on");c.removeClass("on");if(b=="up"){a.addClass("on")}else{if(b=="down"){c.addClass("on")}}},update_favorite_count:function(b){var c=$("#favorite-count");var a=parseInt(c.html());if(isNaN(a)){a=0}a+=b;if(a==0){a=""}c.html(a)},update_favorite_mark:function(a){if(a=="on"){$("#favorite-mark").addClass("on")}else{$("#favorite-mark").removeClass("on")}},mark_accepted:function(b){var a=$("#answer-container-"+b);a.addClass("accepted-answer");a.find(".accept-answer").addClass("on");a.find(".accept-answer").attr("title",a.find(".accept-answer").attr("bn:on"))},unmark_accepted:function(b){var a=$("#answer-container-"+b);a.removeClass("accepted-answer");a.find(".accept-answer").removeClass("on");a.find(".accept-answer").attr("title",a.find(".accept-answer").attr("bn:off"))},remove_comment:function(b){var a=$("#comment-"+b);a.css("background","red");a.fadeOut("slow",function(){a.remove()})},award_points:function(a){},insert_comment:function(e,c,i,g,l,d,h,a,b){var k=$("#comments-container-"+e).find("tbody").first();var f=$("#new-comment-skeleton-"+e).html().toString();f=f.replace(new RegExp("%ID%","g"),c).replace(new RegExp("%COMMENT%","g"),i).replace(new RegExp("%USERNAME%","g"),g).replace(new RegExp("%PROFILE_URL%","g"),l).replace(new RegExp("%DELETE_URL%","g"),d).replace(new RegExp("%EDIT_URL%","g"),h).replace(new RegExp("%CONVERT_URL%","g"),a);k.append(f);if(b==true){$("#comment-"+c+"-convert").show()}$("#comment-"+c).slideDown("slow")},update_comment:function(b,a){var c=$("#comment-"+b);c.find(".comment-text").html(a);c.slideDown("slow")},mark_deleted:function(c,a){if(c=="question"){var d=$("#question-table");d.addClass("deleted")}else{var b=$("#"+c+"-container-"+a);b.addClass("deleted")}},unmark_deleted:function(b,a){if(b=="answer"){var d=$("#answer-container-"+a);d.removeClass("deleted")}else{var c=$("#question-table");c.removeClass("deleted")}},set_subscription_tag_button:function(a,b){$(".subscription_switch").each(function(){var d=$(this);node_tag=d.attr("href").substr(15);if(node_tag==a){d.html(b);if($(".tm-count")){var c=parseInt($(".tm-count").html());if(b=="取消关注"){c=c+1}else{c=c-1}$(".tm-count").html(c)}}})},set_subscription_button:function(b){$(".subscription_switch").html(b);if($(".tm-count")){var a=parseInt($(".tm-count").html());if(b=="取消关注"){a=a+1}else{a=a-1}$(".tm-count").html(a)}},set_subscription_status:function(a){$(".subscription-status").html(a)},copy_url:function(a){$.copy(a)}};function show_dialog(e){var a=function(f){f.fadeOut("fast",function(){f.remove()})};var b={extra_class:"",pos:{x:($(window).width()/2)+$(window).scrollLeft(),y:($(window).height()/2)+$(window).scrollTop()},dim:false,yes_text:messages.ok,yes_callback:a,no_text:messages.cancel,show_no:false,close_on_clickoutside:false};$.extend(b,e);if(b.event!=undefined){b.pos={x:b.event.pageX,y:b.event.pageY}}var c='<div class="dialog '+b.extra_class+'" style="display: none;"><div class="dialog-content">'+b.html+'</div><div class="dialog-buttons">';if(b.show_no){c+='<button class="dialog-no">'+b.no_text+"</button>"}c+='<button class="dialog-yes">'+b.yes_text+"</button></div></div>";$dialog=$(c);$("body").append($dialog);var d=$(".dialog-content")[0];$dialog.css({top:b.pos.y,left:b.pos.x,width:b.dim.w,height:b.dim.h});$dialog.fadeIn("fast");$dialog.find(".dialog-no").click(function(){a($dialog)});$dialog.find(".dialog-yes").click(function(){b.yes_callback($dialog)});if(b.close_on_clickoutside){$dialog.one("clickoutside",function(){a($dialog)})}return $dialog}function show_message(a,c,d){var b=show_dialog({html:c,extra_class:"warning",event:a,yes_callback:function(){b.fadeOut("fast",function(){b.remove()});if(d){d()}},close_on_clickoutside:true})}function load_prompt(a,c,b){$.get(b,function(e){var f={html:e,extra_class:"prompt",yes_callback:function(){var g={};d.find("input, textarea, select").each(function(){g[$(this).attr("name")]=$(this).val()});$.post(b,g,function(h){d.fadeOut("fast",function(){d.remove()});process_ajax_response(h,a)},"json")},show_no:true};if(!c.is(".centered")){f.event=a}var d=show_dialog(f)})}function initTagRenderer(c,b){window.tagRenderer||(window.tagRendererRaw=function(e,a){var a=a||"",d="";a||(c&&-1<$.inArray(e,c)?d=" required-tag":b&&-1<$.inArray(e,b)&&(d=" moderator-tag"));return"<a class='post-tag"+d+"' href='"+a+"/questions/tagged/"+encodeURIComponent(e)+"' title=\"show questions tagged '"+e+"'\" rel='tag'>"+e+"</a>"},window.tagRenderer=function(d,f){return $(tagRendererRaw(d,f))})}function stylecode(){prettyPrint()}function process_ajax_response(b,a,d){if(!b.success&&b.error_message!=undefined){StackPointer.helpers.showErrorPopup($(a.target).parent(),b.error_message,null,function(){if(d){d(true)}});end_command(false)}else{if(typeof b.commands!=undefined){for(var c in b.commands){response_commands[c].apply(null,b.commands[c])}if(b.message!=undefined){show_message(a,b.message,function(){if(d){d(false)}})}else{if(d){d(false)}}end_command(true)}}}var running=false;function start_command(){$("body").append($('<div id="command-loader"></div>'));running=true}function end_command(a){if(a){$("#command-loader").addClass("success");$("#command-loader").fadeOut("slow",function(){$("#command-loader").remove();running=false})}else{$("#command-loader").remove();running=false}}$(function(){$("a.ajax-command").live("click",function(i){if(running){return false}var k=$(this);var h=k.attr("href");h=h+"?nocache="+new Date().getTime();$(".context-menu-dropdown").slideUp("fast");if(k.is(".withprompt")){load_prompt(i,k,h)}else{if(k.is(".confirm")){var m={html:messages.confirm,extra_class:"confirm",yes_callback:function(){start_command();$.getJSON(h,function(n){process_ajax_response(n,i);l.fadeOut("fast",function(){l.remove()})})},yes_text:messages.yes,show_no:true,no_text:messages.no};if(!k.is(".centered")){m.event=i}var l=show_dialog(m)}else{start_command();$.getJSON(h,function(n){process_ajax_response(n,i)})}}return false});$(".context-menu").each(function(){var i=$(this);var h=i.find(".context-menu-trigger");var k=i.find(".context-menu-dropdown");h.click(function(){k.slideToggle("fast",function(){if(k.is(":visible")){k.one("clickoutside",function(){if(k.is(":visible")){k.slideUp("fast")}})}})})});$("div.comment-form-container").each(function(){var y=$(this);var h=y.parent().find(".comment-tools");var G=y.parent().find(".comments-container");var n=y.find("form");if(n.length){var E=y.find("textarea");var u=E.get(0);var k=y.find(".comment-submit");var o=y.find(".comment-cancel");var A=y.find(".comments-chars-left-msg");var F=y.find(".comments-chars-togo-msg");var t=y.find(".comments-char-left-count");var p=h.find(".add-comment-link");var z=t.html().split("|");var x=parseInt(z[0]);var m=parseInt(z[1]);var B=m-30;var s=0;var i=false;var D=null;var w=!($.browser.msie||$.browser.opera);E.css("padding-top",0).css("padding-bottom",0).css("resize","none");u.style.overflow="hidden";function v(){E.val("");E.css("height",80);t.html(m);A.removeClass("warn");i=false;s=0;A.hide();F.show();t.removeClass("warn");t.html(x);k.attr("disabled","disabled");D=null}v();function C(){var I=E.val().replace(/[ ]{2,}/g," ").length;if(s==I){return}if(I<B&&s>=B){t.removeClass("warn")}else{if(s<B&&I>=B){t.addClass("warn")}}if(I<x){A.hide();F.show();t.html(x-I)}else{I=E.val().length;F.hide();A.show();t.html(m-I)}if(I>m||I<x){k.attr("disabled","disabled")}else{k.removeAttr("disabled")}var J=u.style.height;if(w){u.style.height="0px"}var H=Math.max(80,u.scrollHeight);u.style.height=J;E.animate({height:H+"px"},50);s=I}function r(){y.slideDown("slow");p.fadeOut("slow");E.focus();D=window.setInterval(function(){C()},200)}function l(){if(D!=null){window.clearInterval(D);D=null}y.slideUp("slow");p.fadeIn("slow")}p.click(function(){v();r();return false});$("#"+G.attr("id")+" .comment-edit").live("click",function(){var H=$(this);var I=/comment-(\d+)-edit/.exec(H.attr("id"))[1];var J=$("#comment-"+I);i=I;$.get(H.attr("href"),function(K){E.val(K)});J.slideUp("slow");r();return false});k.click(function(H){if(running){return false}var I={comment:E.val()};if(i){I.id=i}start_command();$.post(n.attr("action"),I,function(J){process_ajax_response(J,H,function(K){if(!K){v();l()}})},"json");return false});o.click(function(H){if(confirm("当前操作将会使你对评论的编辑丢失，继续当前的操作吗?")){if(i){$comment=$("#comment-"+i).slideDown("slow")}l();v()}return false})}h.find(".show-all-comments-link").click(function(){G.find(".not_top_scorer").slideDown("slow");$(this).fadeOut("slow");h.find(".comments-showing").fadeOut("slow");return false})});if($("#editor").length){var e=$("#editor");var d=$("#previewer");var g=$("#editor-metrics");var f=/^[^A-Za-zА-Яа-я0-9]+/gi;var a=rExp=/[^A-Za-zА-Яа-я0-9]+/gi;var c=null;e.focus(function(){if(c==null){c=window.setInterval(function(){b()},200)}});function b(){var o=d.text();var p=o.length;var m=o+" ";var h=m.replace(f,"");var k=h.replace(a," ");var l=k.split(" ");var n=l.length-1;var i=p+" "+(p==1?messages.character:messages.characters);i+=" / "+n+" "+(n==1?messages.word:messages.words);g.html(i)}}});function pickedTags(){var a=function(k,l,i,m){var h=scriptUrl;if(i=="add"){h+=$.i18n._("mark-tag/");if(l=="good"){h+=$.i18n._("interesting/")}else{h+=$.i18n._("ignored/")}}else{h+=$.i18n._("unmark-tag/")}h=h+k+"/";var g={type:"POST",url:h,data:""};if(m!==false){g.success=m}$.ajax(g)};var f=function(l,h,i,g){var k=function(){l[h].remove();delete l[h]};if(g){a(h,i,"remove",k)}else{k()}return !1};var b=function(l,h,i,k,g){l.click(function(m){target=$(m.target);if(target.is("[class^=delete-tag]")){f(h,i,k,g);return !1}})};var d=function(m,l){var g=$(m).attr("id");if(g=="interestingTagAdd"){var k=$.trim($("#interestingTagInput").attr("value"));$("#interestingTagInput").val("")}else{var k=$.trim($("#ignoredTagInput").attr("value"));$("#ignoredTagInput").val("")}var h=interestingTags;var n=ignoredTags;var i;if(l=="bad"){h=ignoredTags;n=interestingTags;i=$("div .tagsa.ignored")}else{if(l!="good"){return}else{i=$("div .tagsa.interesting")}}if(k in n){f(n,k,l,false)}if(!(k in h)){a(k,l,"add",function(){var p=$("<span></span>");p.addClass("deletable-tag");var o=$("<a></a>");o.attr("rel","tag");o.attr("class","post-tag user-tag");o.attr("href",scriptUrl+$.i18n._("tags/")+k+"/");o.html(k);var r=$("<span></span>");r.addClass("delete-tag");b(r,h,k,l,true);o.append(r);p.append(o);i.append(p);h[k]=p})}};var c=function(){var g="interesting-tag-";var k="ignored-tag-";var i=RegExp("^"+g);var h=RegExp("^"+k);interestingTags={};ignoredTags={};$(".deletable-tag").each(function(m,o){var l=$(o).attr("id");var p,n;if(i.test(l)){p=l.replace(g,"");n=interestingTags;reason="good"}else{if(h.test(l)){p=l.replace(k,"");n=ignoredTags;reason="bad"}else{return}}n[p]=$(o);b($(o).find("a"),n,p,reason,true)})};var e=function(){$("#hideIgnoredTagsCb").unbind("click").click(function(){$.ajax({type:"POST",dataType:"json",cache:false,url:scriptUrl+$.i18n._("command/"),data:{command:"toggle-ignored-questions"}})})};return{init:function(){c();e();$("#interestingTagInput, #ignoredTagInput").autocomplete(messages.matching_tags_url,{minChars:1,matchContains:true,max:8,formatItem:function(l,h,g,k){return l[1]+" ("+l[2]+")"},formatResult:function(l,h,g,k){return l[1]}});$("#interestingTagAdd").click(function(){d(this,"good")});$("#ignoredTagAdd").click(function(){d(this,"bad")})}}}Hilite={elementid:"content",exact:true,max_nodes:1000,onload:true,style_name:"hilite",style_name_suffix:true,debug_referrer:""};Hilite.search_engines=[["local","q"],["cnprog\\.","q"],["google\\.","q"],["search\\.yahoo\\.","p"],["search\\.msn\\.","q"],["search\\.live\\.","query"],["search\\.aol\\.","userQuery"],["ask\\.com","q"],["altavista\\.","q"],["feedster\\.","q"],["search\\.lycos\\.","q"],["alltheweb\\.","q"],["technorati\\.com/search/([^\\?/]+)",1],["dogpile\\.com/info\\.dogpl/search/web/([^\\?/]+)",1,true]];Hilite.decodeReferrer=function(n){var k=null;var m=new RegExp("");for(var o=0;o<Hilite.search_engines.length;o++){var l=Hilite.search_engines[o];m.compile("^http://(www\\.)?"+l[0],"i");var h=n.match(m);if(h){var i;if(isNaN(l[1])){i=Hilite.decodeReferrerQS(n,l[1])}else{i=h[l[1]+1]}if(i){i=decodeURIComponent(i);if(l.length>2&&l[2]){i=decodeURIComponent(i)}i=i.replace(/\'|"/g,"");i=i.split(/[\s,\+\.]+/);return i}break}}return null};Hilite.decodeReferrerQS=function(l,n){var h=l.indexOf("?");var o;if(h>=0){var i=new String(l.substring(h+1));h=0;o=0;while((h>=0)&&((o=i.indexOf("=",h))>=0)){var m,k;m=i.substring(h,o);h=i.indexOf("&",o)+1;if(m==n){if(h<=0){return i.substring(o+1)}else{return i.substring(o+1,h-1)}}else{if(h<=0){return null}}}}return null};Hilite.hiliteElement=function(i,k){if(!k||i.childNodes.length==0){return}var m=new Array();for(var g=0;g<k.length;g++){k[g]=k[g].toLowerCase();if(Hilite.exact){m.push("\\b"+k[g]+"\\b")}else{m.push(k[g])}}m=new RegExp(m.join("|"),"i");var h={};for(var g=0;g<k.length;g++){if(Hilite.style_name_suffix){h[k[g]]=Hilite.style_name+(g+1)}else{h[k[g]]=Hilite.style_name}}var l=function(a){var c=m.exec(a.data);if(c){var o=c[0];var d="";var e=a.splitText(c.index);var f=e.splitText(o.length);var b=a.ownerDocument.createElement("SPAN");a.parentNode.replaceChild(b,e);b.className=h[o.toLowerCase()];b.appendChild(e);return b}else{return a}};Hilite.walkElements(i.childNodes[0],1,l)};Hilite.hilite=function(){var d=Hilite.debug_referrer?Hilite.debug_referrer:document.referrer;var c=null;d=Hilite.decodeReferrer(d);if(d&&((Hilite.elementid&&(c=document.getElementById(Hilite.elementid)))||(c=document.body))){Hilite.hiliteElement(c,d)}};Hilite.walkElements=function(l,i,k){var h=/^(script|style|textarea)/i;var m=0;while(l&&i>0){m++;if(m>=Hilite.max_nodes){var g=function(){Hilite.walkElements(l,i,k)};setTimeout(g,50);return}if(l.nodeType==1){if(!h.test(l.tagName)&&l.childNodes.length>0){l=l.childNodes[0];i++;continue}}else{if(l.nodeType==3){l=k(l)}}if(l.nextSibling){l=l.nextSibling}else{while(i>0){l=l.parentNode;i--;if(l.nextSibling){l=l.nextSibling;break}}}}};if(Hilite.onload){if(window.attachEvent){window.attachEvent("onload",Hilite.hilite)}else{if(window.addEventListener){window.addEventListener("load",Hilite.hilite,false)}else{var __onload=window.onload;window.onload=function(){Hilite.hilite();__onload()}}}}var mediaUrl=function(a){return scriptUrl+"m/"+osqaSkin+"/"+a};(function(a){a.i18n={setDictionary:function(b){b=b},_:function(d,c){var b=d;if(i18n_dict&&i18n_dict[d]){b=i18n_dict[d]}return this.printf(b,c)},toEntity:function(d){var b="";for(var c=0;c<d.length;c++){if(d.charCodeAt(c)>128){b+="&#"+d.charCodeAt(c)+";"}else{b+=d.charAt(c)}}return b},stripStr:function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")},stripStrML:function(d){var c=d.split("\n");for(var b=0;b<c.length;b++){c[b]=stripStr(c[b])}return stripStr(c.join(" "))},printf:function(e,b){if(!b){return e}var d="";var f=e.split("%s");for(var c=0;c<b.length;c++){if(f[c].lastIndexOf("%")==f[c].length-1&&c!=b.length-1){f[c]+="s"+f.splice(c+1,1)[0]}d+=f[c]+b[c]}return d+f[f.length-1]}}})(jQuery);var i18nZh={"insufficient privilege":"??????????","cannot pick own answer as best":"??????????????","anonymous users cannot select favorite questions":"?????????????","please login":"??????","anonymous users cannot vote":"????????",">15 points requried to upvote":"??+15?????????",">100 points required to downvote":"??+100?????????","please see":"??","cannot vote for own posts":"??????????","daily vote cap exhausted":"????????????????","cannot revoke old vote":"??????????????","please confirm offensive":"??????????????????????","anonymous users cannot flag offensive posts":"???????????","cannot flag message as offensive twice":"???????","flag offensive cap exhausted":"?????????????5??????","need >15 points to report spam":"??+15??????????","confirm delete":"?????/????????","anonymous users cannot delete/undelete":"???????????????","post recovered":"?????????????","post deleted":"????????????","add comment":"????","community karma points":"????","to comment, need":"????","delete this comment":"?????","hide comments":"????","add a comment":"????",comments:"??","confirm delete comment":"?????????",characters:"??","can write":"???","click to close":"???????","loading...":"???...","tags cannot be empty":"???????","tablimits info":"??5????????????20????","content cannot be empty":"???????","content minchars":"????? {0} ???","please enter title":"??????","title minchars":"????? {0} ???","delete":"??",undelete:"??",bold:"??",italic:"??",link:"???",quote:"??","preformatted text":"??",image:"??","numbered list":"??????","bulleted list":"??????",heading:"??","horizontal bar":"???",undo:"??",redo:"??","enter image url":"输入图片的网址<p>例如:<br />http://www.example.com/image.jpg","enter url":'输入网址</p><p>例如:<br />http://www.example.com/</p>"',"upload image":"上传一张图片"};var i18nEn={"need >15 points to report spam":"need >15 points to report spam ",">15 points requried to upvote":">15 points required to upvote ","tags cannot be empty":"please enter at least one tag","anonymous users cannot vote":"sorry, anonymous users cannot vote ","anonymous users cannot select favorite questions":"sorry, anonymous users cannot select favorite questions ","to comment, need":"(to comment other people's posts, karma ","please see":"please see ","community karma points":" or more is necessary) - ","upload image":"Upload image:","enter image url":'enter URL of the image, e.g. http://www.example.com/image.jpg "image title"',"enter url":'enter Web address, e.g. http://www.example.com "page title"',"daily vote cap exhausted":"sorry, you've used up todays vote cap","cannot pick own answer as best":"sorry, you cannot accept your own answer","cannot revoke old vote":"sorry, older votes cannot be revoked","please confirm offensive":"are you sure this post is offensive, contains spam, advertising, malicious remarks, etc.?","flag offensive cap exhausted":"sorry, you've used up todays cap of flagging offensive messages ","confirm delete":"are you sure you want to delete this?","anonymous users cannot delete/undelete":"sorry, anonymous users cannot delete or undelete posts","post recovered":"your post is now restored!","post deleted":"your post has been deleted","confirm delete comment":"do you really want to delete this comment?","can write":"have ","tablimits info":"up to 5 tags, no more than 20 characters each","content minchars":"please enter more than {0} characters","title minchars":"please enter at least {0} characters",characters:"characters left","cannot vote for own posts":"sorry, you cannot vote for your own posts","cannot flag message as offensive twice":"cannot flag message as offensive twice ",">100 points required to downvote":">100 points required to downvote "};var i18nEs={"insufficient privilege":"privilegio insuficiente","cannot pick own answer as best":"no puede escoger su propia respuesta como la mejor","anonymous users cannot select favorite questions":"usuarios anonimos no pueden seleccionar","please login":"por favor inicie sesión","anonymous users cannot vote":"usuarios anónimos no pueden votar",">15 points requried to upvote":">15 puntos requeridos para votar positivamente",">100 points required to downvote":">100 puntos requeridos para votar negativamente","please see":"por favor vea","cannot vote for own posts":"no se puede votar por sus propias publicaciones","daily vote cap exhausted":"cuota de votos diarios excedida","cannot revoke old vote":"no puede revocar un voto viejo","please confirm offensive":"por favor confirme ofensiva","anonymous users cannot flag offensive posts":"usuarios anónimos no pueden marcar publicaciones como ofensivas","cannot flag message as offensive twice":"no puede marcar mensaje como ofensivo dos veces","flag offensive cap exhausted":"cuota para marcar ofensivas ha sido excedida","need >15 points to report spam":"necesita >15 puntos para reportar spam","confirm delete":"¿Está seguro que desea borrar esto?","anonymous users cannot delete/undelete":"usuarios anónimos no pueden borrar o recuperar publicaciones","post recovered":"publicación recuperada","post deleted":"publicación borrada?","add comment":"agregar comentario","community karma points":"reputación comunitaria","to comment, need":"para comentar, necesita reputación","delete this comment":"borrar este comentario","hide comments":"ocultar comentarios","add a comment":"agregar comentarios",comments:"comentarios","confirm delete comment":"¿Realmente desea borrar este comentario?",characters:"caracteres faltantes","can write":"tiene ","click to close":"haga click para cerrar","loading...":"cargando...","tags cannot be empty":"las etiquetas no pueden estar vacías","tablimits info":"hasta 5 etiquetas de no mas de 20 caracteres cada una","content cannot be empty":"el contenido no puede estar vacío","content minchars":"por favor introduzca mas de {0} caracteres","please enter title":"por favor ingrese un título","title minchars":"por favor introduzca al menos {0} caracteres","delete":"borrar",undelete:"recuperar",bold:"negrita",italic:"cursiva",link:"enlace",quote:"citar","preformatted text":"texto preformateado",image:"imagen","numbered list":"lista numerada","bulleted list":"lista no numerada",heading:"??","horizontal bar":"barra horizontal",undo:"deshacer",redo:"rehacer","enter image url":'introduzca la URL de la imagen, por ejemplo?<br />http://www.example.com/image.jpg   "titulo de imagen"',"enter url":'introduzca direcciones web, ejemplo?<br />http://www.cnprog.com/   "titulo del enlace"</p>"',"upload image":"cargar imagen?","questions/":"preguntas/","vote/":"votar/"};var i18n={en:i18nEn,zh_CN:i18nZh,es:i18nEs};var i18n_dict=i18n[i18nLang];(function(c){var h,i;var d=0;var a=32;var e;c.fn.TextAreaResizer=function(){return this.each(function(){h=c(this).addClass("processed"),i=null;c(this).wrap('<div class="resizable-textarea" onclick="popup()"><span></span></div>').parent().append(c('<div class="grippie"></div>').bind("mousedown",{el:this},b));var l=c("div.grippie",c(this).parent())[0];l.style.marginRight=(l.offsetWidth-c(this)[0].offsetWidth)+"px"})};function b(l){h=c(l.data.el);h.blur();d=k(l).y;i=h.height()-d;h.css("opacity",0.25);c(document).mousemove(g).mouseup(f);return false}function g(n){var l=k(n).y;var m=i+l;if(d>=(l)){m-=5}d=l;m=Math.max(a,m);h.height(m+"px");if(m<a){f(n)}return false}function f(l){c(document).unbind("mousemove",g).unbind("mouseup",f);h.css("opacity",1);h.focus();h=null;i=null;d=0}function k(l){return{x:l.clientX+document.documentElement.scrollLeft,y:l.clientY+document.documentElement.scrollTop}}})(jQuery);(function(b){b.fn.extend({autocomplete:function(a,f){var e=typeof a=="string";f=b.extend({},b.Autocompleter.defaults,{url:e?a:null,data:e?null:a,delay:e?b.Autocompleter.defaults.delay:10,max:f&&!f.scroll?10:150},f);f.highlight=f.highlight||function(c){return c};f.formatMatch=f.formatMatch||f.formatItem;return this.each(function(){new b.Autocompleter(this,f)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});b.Autocompleter=function(J,O){var S={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var T=b(J).attr("autocomplete","off").addClass(O.inputClass);var L;var F="";var I=b.Autocompleter.Cache(O);var Q=0;var A;var a={mouseDownOnSelect:false};var D=b.Autocompleter.Select(O,J,R,a);var y;b.browser.opera&&b(J.form).bind("submit.autocomplete",function(){if(y){y=false;return false}});T.bind((b.browser.opera?"keypress":"keydown")+".autocomplete",function(c){A=c.keyCode;switch(c.keyCode){case S.UP:c.preventDefault();if(D.visible()){D.prev()}else{B(0,true)}break;case S.DOWN:c.preventDefault();if(D.visible()){D.next()}else{B(0,true)}break;case S.PAGEUP:c.preventDefault();if(D.visible()){D.pageUp()}else{B(0,true)}break;case S.PAGEDOWN:c.preventDefault();if(D.visible()){D.pageDown()}else{B(0,true)}break;case O.multiple&&b.trim(O.multipleSeparator)==","&&S.COMMA:case S.TAB:case S.RETURN:if(R()){c.preventDefault();y=true;return false}break;case S.ESC:D.hide();break;default:clearTimeout(L);L=setTimeout(B,O.delay);break}}).focus(function(){Q++}).blur(function(){Q=0;if(!a.mouseDownOnSelect){C()}}).click(function(){if(Q++>1&&!D.visible()){B(0,true)}}).bind("search",function(){var d=(arguments.length>1)?arguments[1]:null;function c(f,g){var e;if(g&&g.length){for(var h=0;h<g.length;h++){if(g[h].result.toLowerCase()==f.toLowerCase()){e=g[h];break}}}if(typeof d=="function"){d(e)}else{T.trigger("result",e&&[e.data,e.value])}}b.each(N(T.val()),function(e,f){P(f,c,c)})}).bind("flushCache",function(){I.flush()}).bind("setOptions",function(){b.extend(O,arguments[1]);if("data" in arguments[1]){I.populate()}}).bind("unautocomplete",function(){D.unbind();T.unbind();b(J.form).unbind(".autocomplete")});function R(){var d=D.selected();if(!d){return false}var e=d.result;F=e;if(O.multiple){var c=N(T.val());if(c.length>1){e=c.slice(0,c.length-1).join(O.multipleSeparator)+O.multipleSeparator+e}e+=O.multipleSeparator}T.val(e);z();T.trigger("result",[d.data,d.value]);return true}function B(c,d){if(A==S.DEL){D.hide();return}var e=T.val();if(!d&&e==F){return}F=e;e=M(e);if(e.length>=O.minChars){T.addClass(O.loadingClass);if(!O.matchCase){e=e.toLowerCase()}P(e,K,z)}else{H();D.hide()}}function N(d){if(!d){return[""]}var c=d.split(O.multipleSeparator);var e=[];b.each(c,function(g,f){if(b.trim(f)){e[g]=b.trim(f)}});return e}function M(d){if(!O.multiple){return d}var c=N(d);return c[c.length-1]}function E(d,c){if(O.autoFill&&(M(T.val()).toLowerCase()==d.toLowerCase())&&A!=S.BACKSPACE){T.val(T.val()+c.substring(M(F).length));b.Autocompleter.Selection(J,F.length,F.length+c.length)}}function C(){clearTimeout(L);L=setTimeout(z,200)}function z(){var c=D.visible();D.hide();clearTimeout(L);H();if(O.mustMatch){T.search(function(e){if(!e){if(O.multiple){var d=N(T.val()).slice(0,-1);T.val(d.join(O.multipleSeparator)+(d.length?O.multipleSeparator:""))}else{T.val("")}}})}if(c){b.Autocompleter.Selection(J,J.value.length,J.value.length)}}function K(c,d){if(d&&d.length&&Q){H();D.display(d,c);E(c,d[0].value);D.show()}else{z()}}function P(e,g,f){if(!O.matchCase){e=e.toLowerCase()}var c=I.load(e);if(c&&c.length){g(e,c)}else{if((typeof O.url=="string")&&(O.url.length>0)){var d={timestamp:+new Date()};b.each(O.extraParams,function(i,h){d[i]=typeof h=="function"?h():h});b.ajax({mode:"abort",port:"autocomplete"+J.name,dataType:O.dataType,url:O.url,data:b.extend({q:M(e),limit:O.max},d),success:function(h){var i=O.parse&&O.parse(h)||G(h);I.add(e,i);g(e,i)}})}else{D.emptyList();f(e)}}}function G(g){var f=[];var c=g.split("\n");for(var e=0;e<c.length;e++){var d=b.trim(c[e]);if(d){d=d.split("|");f[f.length]={data:d,value:d[0],result:O.formatResult&&O.formatResult(d,d[0])||d[0]}}}return f}function H(){T.removeClass(O.loadingClass)}};b.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(a){return a[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(d,a){return d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};b.Autocompleter.Cache=function(o){var l={};var n=0;function i(c,d){if(!o.matchCase){c=c.toLowerCase()}var e=c.indexOf(d);if(e==-1){return false}return e==0||o.matchContains}function k(c,d){if(n>o.cacheLength){a()}if(!l[c]){n++}l[c]=d}function m(){if(!o.data){return false}var e={},f=0;if(!o.url){o.cacheLength=1}e[""]=[];for(var c=0,d=o.data.length;c<d;c++){var h=o.data[c];h=(typeof h=="string")?[h]:h;var r=o.formatMatch(h,c+1,o.data.length);if(r===false){continue}var s=r.charAt(0).toLowerCase();if(!e[s]){e[s]=[]}var g={value:r,data:h,result:o.formatResult&&o.formatResult(h)||r};e[s].push(g);if(f++<o.max){e[""].push(g)}}b.each(e,function(t,p){o.cacheLength++;k(t,p)})}setTimeout(m,25);function a(){l={};n=0}return{flush:a,add:k,populate:m,load:function(g){if(!o.cacheLength||!n){return null}if(!o.url&&o.matchContains){var c=[];for(var e in l){if(e.length>0){var f=l[e];b.each(f,function(r,h){if(i(h.value,g)){c.push(h)}})}}return c}else{if(l[g]){return l[g]}else{if(o.matchSubset){for(var d=g.length-1;d>=o.minChars;d--){var f=l[g.substr(0,d)];if(f){var c=[];b.each(f,function(r,h){if(i(h.value,g)){c[c.length]=h}});return c}}}}}return null}}};b.Autocompleter.Select=function(G,B,z,v){var C={ACTIVE:"ac_over"};var A,F=-1,t,y="",a=true,I,w;function x(){if(!a){return}I=b("<div/>").hide().addClass(G.resultsClass).css("position","absolute").appendTo(document.body);w=b("<ul/>").appendTo(I).mouseover(function(c){if(u(c).nodeName&&u(c).nodeName.toUpperCase()=="LI"){F=b("li",w).removeClass(C.ACTIVE).index(u(c));b(u(c)).addClass(C.ACTIVE)}}).click(function(c){b(u(c)).addClass(C.ACTIVE);z();B.focus();return false}).mousedown(function(){v.mouseDownOnSelect=true}).mouseup(function(){v.mouseDownOnSelect=false});if(G.width>0){I.css("width",G.width)}a=false}function u(c){var d=c.target;while(d&&d.tagName!="LI"){d=d.parentNode}if(!d){return[]}return d}function D(e){A.slice(F,F+1).removeClass(C.ACTIVE);E(e);var c=A.slice(F,F+1).addClass(C.ACTIVE);if(G.scroll){var d=0;A.slice(0,F).each(function(){d+=this.offsetHeight});if((d+c[0].offsetHeight-w.scrollTop())>w[0].clientHeight){w.scrollTop(d+c[0].offsetHeight-w.innerHeight())}else{if(d<w.scrollTop()){w.scrollTop(d)}}}}function E(c){F+=c;if(F<0){F=A.size()-1}else{if(F>=A.size()){F=0}}}function J(c){return G.max&&G.max<c?G.max:c}function H(){w.empty();var e=J(t.length);for(var d=0;d<e;d++){if(!t[d]){continue}var c=G.formatItem(t[d].data,d+1,e,t[d].value,y);if(c===false){continue}var f=b("<li/>").html(G.highlight(c,y)).addClass(d%2==0?"ac_even":"ac_odd").appendTo(w)[0];b.data(f,"ac_data",t[d])}A=w.find("li");if(G.selectFirst){A.slice(0,1).addClass(C.ACTIVE);F=0}if(b.fn.bgiframe){w.bgiframe()}}return{display:function(c,d){x();t=c;y=d;H()},next:function(){D(1)},prev:function(){D(-1)},pageUp:function(){if(F!=0&&F-8<0){D(-F)}else{D(-8)}},pageDown:function(){if(F!=A.size()-1&&F+8>A.size()){D(A.size()-1-F)}else{D(8)}},hide:function(){I&&I.hide();A&&A.removeClass(C.ACTIVE);F=-1},visible:function(){return I&&I.is(":visible")},current:function(){return this.visible()&&(A.filter("."+C.ACTIVE)[0]||G.selectFirst&&A[0])},show:function(){var c=b(B).offset();I.css({width:typeof G.width=="string"||G.width>0?G.width:b(B).width(),top:c.top+B.offsetHeight,left:c.left}).show();if(G.scroll){w.scrollTop(0);w.css({maxHeight:G.scrollHeight,overflow:"auto"});if(b.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var e=0;A.each(function(){e+=this.offsetHeight});var d=e>G.scrollHeight;w.css("height",d?G.scrollHeight:e);if(!d){A.width(w.width()-parseInt(A.css("padding-left"))-parseInt(A.css("padding-right")))}}}},selected:function(){var c=A&&A.filter("."+C.ACTIVE).removeClass(C.ACTIVE);return c&&c.length&&b.data(c[0],"ac_data")},emptyList:function(){w&&w.empty()},unbind:function(){I&&I.remove()}}};b.Autocompleter.Selection=function(g,f,h){if(g.setSelectionRange){g.setSelectionRange(f,h)}else{if(g.createTextRange){var a=g.createTextRange();a.collapse(true);a.moveStart("character",f);a.moveEnd("character",h);a.select()}else{if(g.selectionStart){g.selectionStart=f;g.selectionEnd=h}}}g.focus()}})(jQuery);var genuY=false;var currentState=false;var showMore=function(){if(genuY){var c=$("#seWrapper");if(currentState){c.fadeOut("fast");currentState=false}else{c.fadeIn("fast");currentState=true}return}genuY=true;currentState=true;var a='<div id="seWrapper" style="position:absolute;"><div class="seIntro"><a href="http://www.stackenqueue.com"> stackenqueue </a> 是一个免费的社交化的问答站点.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">热点问题</a></li><li><a id="seTabSites">所有站点</a></li><li><a id="seTabInbox">消息</a></li></ul></div><div class="seContainer"></div><div class="seFooter">';a+='<a id="seClose"  href="void(0);" onclick="return false;" >关闭</a></div></div>';var b=$("#portalLink");var d=b.height()+b.offset().top+5;$(a).appendTo("#portalLink").css({top:d}).find("ul.seNavLinks a, #seTabEmail").click(function(){switchTab($(this))});$("#seClose").live("click",q);switchTab($("#seTabHot"))};var q=function(){var a=$("#seWrapper");a.fadeOut("fast");if(genuY&&currentState){currentState=false}};var switchTab=function(a){$(".seNavLinks a").removeClass("seCurrent");a.addClass("seCurrent");switch(a.attr("id")){case"seTabHot":getHot(a);$("#seContainerSites, #seContainerInbox, #seContainerEmail").hide();$("#seContainerHot").fadeIn("fast");break;case"seTabSites":getSite(a);$("#seContainerHot, #seContainerInbox, #seContainerEmail").hide();$("#seContainerSites").fadeIn("fast");break;case"seTabInbox":getInbox(a);$("#seContainerHot, #seContainerSites, #seContainerEmail").hide();$("#seContainerInbox").fadeIn("fast");break;case"seTabEmail":$("#seContainerHot, #seContainerSites, #seContainerInbox").hide();$("#seContainerEmail").fadeIn("fast");break}};var getSite=function(a){if($("#seContainerSites").length==0){remoteCall("/note/allsite",a,addsite)}};var getHot=function(a){if($("#seContainerHot").length==0){remoteCall("/note/hotquestion",a,addHot)}};var getInbox=function(a){if($("#seContainerInbox").length==0){remoteCall("/note/inbox",a,addInbox)}};var addsite=function(d,e){var f='<div id="seContainerSites" style="display:block">';for(var a=0;a<e.length;a++){var c=e[a];var b=c.name;var g='href="http://'+c.id+'"';f+='<div class="itemBox"><a '+g+' class="asiteFavicon"><img src="'+c.FaviconUrl+'" alt="'+b+'"></a><div class="asiteInfo"><p><a '+g+">"+b+"</a></p><a "+g+' class="siteLink">'+c.Description+"</a></div></div>"}f+="</div>";attach_tab(d,f)};var addHot=function(c,f){var d=$("<div/>");var g='<div id="seContainerHot" style="display:none">';for(var h=0;h<f.length;h++){var a=f[h];var i=a.SiteId;var b="href="+i+"/questions/"+a.Id+"";var e=parseInt(a.DisplayScore,10);g+='<div class="itemBox"><a '+b+' class="seNumAnswer">'+e+'</a><div class="asiteInfo"><p><a '+b+">"+d.text(a.Title).html()+"</a></p><a href="+i+' class="siteLink">'+i+"</a></div></div>"}g+="</div>";attach_tab(c,g)};var addInbox=function(f,c){if(c=="nlogin"){attach_tab(f,'<div id="seContainerInbox" style="display:none;text-align:center;margin-top:5px">登录之后才能查看你的消息<div>');return}var b='<div id="seContainerInbox" style="display:none">';for(var g=0;g<c.length;g++){var i=c[g];var a='href="'+i.Url+'"';var d='title="'+i.CreationDate+'"';var e=i.Count;var h=i.IsNew?" itemBoxNew":"";b+='<div class="itemBox'+h+'"><a '+a+' class="siteLinkFavicon"><img src="'+i.FaviconUrl+'" alt="'+i.SiteUrl+'"></a><div class="asiteInfo">';b+="<p>"+(e>1?e+" ":"")+i.Type+"  <a "+a+" "+d+">"+i.Title+"</a></p>";b+='<p class="inboxSummary">'+(i.Summary||"")+"</p></div></div>"}b+="</div>";attach_tab(f,b)};var attach_tab=function(c,b){var a=$(b);a.appendTo(".seContainer");if(c.hasClass("seCurrent")){a.fadeIn("fast")}};var remoteCall=function(d,b,c,e){var a=function(){setTimeout("StackPointer.helpers.removeSpinner()",3000);return 0};StackPointer.helpers.showSpinner();$.ajax({type:"GET",url:d,success:function(f){if(f&&(f.length>0||e)){c(b,f)}else{a()}},error:a,complete:function(){StackPointer.helpers.removeSpinner()}})};StackPointer.init=(function(){return function(){StackPointer.tagmenu.init();StackPointer.usermenu.init();StackPointer.init.createJqueryExtensions()}})();StackPointer.init.createJqueryExtensions=function(){$.fn.extend({enable:function(){0==arguments.length||arguments[0]?this.removeAttr("disabled").css("cursor","pointer"):this.attr("disabled","disabled").css("cursor","default");return this},disable:function(){return this.enable(!1)},fadeOutAndRemove:function(){return this.each(function(){var a=$(this);a.fadeOut("fast",function(){a.trigger("removing").remove()})})},center:function(){var b=this.parent();"static"===b.css("position")&&(b=b.offsetParent());var b=b.offset(),a=$(window);this.css("position","absolute");this.css("top",(a.height()-this.height())/2+a.scrollTop()-b.top+"px");this.css("left",(a.width()-this.width())/2+a.scrollLeft()-b.left+"px");return this}})};String.prototype.format=function(){var a=this.toString();if(!arguments.length){return a}var d="string"==typeof arguments[0]?arguments:arguments[0],b;for(b in d){a=a.replace(RegExp("\\{"+b+"\\}","gi"),d[b])}return a};String.prototype.truncate=function(a,d){var b=this.toString();a&&b.length>a&&(b=b.substr(0,a)+d);return b};MagicPopup=function(i){var b,f,e,d,c={};function h(a,m){var o=$("<div id='"+i.id+"'/>").html(m);var l=$("<div />").css({overflow:"hidden",position:"absolute",width:1,height:1,top:0,left:0}).append(o).appendTo("body");var s=i.showing(a,o);var k={left:s.left};if(s.hasOwnProperty("bottom")){k.bottom=s.bottom;k.top="auto"}else{k.top=s.top}var t;if(i.shown){t=function(){i.shown(a,o)}}l.css(k).animate({height:o.outerHeight()+8,width:o.outerWidth()+8},300,t);drop_wrap=function(){l.stop().remove();if(i.removed){i.removed(a,o)}e=null;b=null};e=StackPointer.helpers.DelayedReaction(drop_wrap,5);var r=l;if(s.additional){r=r.add(s.additional)}r.hover(e.cancel,e.trigger)}var g=StackPointer.helpers.DelayedReaction(function(m,l){if(d||!m){return}var a;if(i.cache&&("c_"+m in c)){a=$.Deferred().resolve(c["c_"+j])}else{a=$.ajax({type:"GET",url:m,dataType:"html"});if(i.cache){a.done(function(k){c["c_"+m]=k})}}a.done(function(k){if(b){b()}if(k==""){return}h(l,k)})},500);$(document).delegate(i.selector,{mouseenter:function(){if(e&&this===f){e.cancel();return}f=this;g.trigger(i.getUrl(this),this);d=false;return false},mouseleave:function(){d=true;g.cancel();if(e){e.trigger()}}})};StackPointer.tagmenu=(function(){var f,a;var e=function(c){f=c;if(a){return}a=true;MagicPopup({selector:".post-tag:not(.user-tag)",id:"tag-menu",getUrl:d,showing:b,shown:function(g,i){if(f){f(i,$(g).text())}}});$("#interesting-tags .post-tag").addClass("user-tag")};return{init:e};function d(g){var i=$(g);var c=i.attr("href");if(!c||c.charAt(0)!="/"){return null}var h=i.text();if(h.indexOf("*")>-1){return null}i.attr("title","");return"/tag/"+encodeURIComponent(h)+"/subscriber-info"}function b(p,c){var o=$(p),t=o.offset(),s=o.outerHeight(),u={left:t.left},n=t.top+s,l=t.left+c.outerWidth();if(c.height()+n>$(window).height()+$(window).scrollTop()){u.bottom=$(window).height()-t.top-8}else{u.top=n}var r=Math.max(1024,$(window).width());if(l>r){u.left-=l-r}return u}})();StackPointer.usermenu=(function(){var f,a;var e=function(){if(a){return}a=true;MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:c,id:"user-menu",showing:b,removed:g});function c(o){var p=$(o),d=p.closest(".user-hover"),n=d.find(".user-details a").attr("href"),r=new RegExp("/users/([^/]+).*$"),m=r.exec(n);if(!m){return null}return"/users/user/"+m[1]+"/info"}};return{init:e};function b(B,y){var x=$(B),v=x.find("img:first"),A=v.offset(),d=v.height(),t=v.width(),w=Math.max(t,d),c=64*d/w,z=64*t/w,s=y.find("img:first").css({width:z,height:c});var C=s.offset();s.css("visibility","hidden");f=v.clone().css({position:"absolute",zIndex:300,left:A.left,top:A.top,width:t,height:d}).appendTo("body");var u=function(){if(!s[0].complete){setTimeout(u,500);return}s.css("visibility","visible")};f.animate({width:z,height:c,top:A.top+C.top},200,u);return{top:A.top,left:A.left-C.left,additional:f}}function g(c,d){f.remove()}})();var notify=function(){var a=false;return{show:function(b){if(b){$("body").css("margin-top","2.2em");$(".notify span").html(b)}$(".notify").fadeIn("slow");a=true},close:function(b){$(".notify").fadeOut("fast");$("body").css("margin-top","0");a=false},isVisible:function(){return a}}}();(function(f,g,d){f.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(a){e(a)});e("focusin","focus"+d);e("focusout","blur"+d);f.addOutsideEvent=e;function e(b,i){i=i||b+d;var k=f(),a=b+"."+i+"-special-event";f.event.special[i]={setup:function(){k=k.add(this);if(k.length===1){f(g).bind(a,c)}},teardown:function(){k=k.not(this);if(k.length===0){f(g).unbind(a)}},add:function(l){var h=l.handler;l.handler=function(m,n){m.target=n;h.apply(this,arguments)}}};function c(h){f(k).each(function(){var l=f(this);if(this!==h.target&&!l.has(h.target).length){l.triggerHandler(i,[h.target])}})}}})(jQuery,document,"outside");$(document).ready(function(){pickedTags().init();$("input#bnewaccount").click(function(){$("#bnewaccount").disabled=true})});function yourWorkWillBeLost(a){if(browserTester("chrome")){return"真的要离开当前页面吗？你的编辑将会丢失！"}else{if(browserTester("safari")){return"真的要离开当前页面吗？你的编辑将会丢失！"}else{if(!a){a=window.event}a.cancelBubble=true;a.returnValue="If you leave, your work will be lost.";if(a.stopPropagation){a.stopPropagation();a.preventDefault()}return a}}}function browserTester(a){return navigator.userAgent.toLowerCase().indexOf(a)>-1}if(!window.addEventListener){if(window.attachEvent){window.addEventListener=function(b,c,a){window.attachEvent("on"+b,c)};window.removeEventListener=function(b,c,a){window.detachEvent("on"+b,c)}}else{window.addEventListener=function(b,c,a){window["on"+b]=c};window.removeEventListener=function(b,c,a){window["on"+b]=null}}};